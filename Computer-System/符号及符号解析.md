1单选(0.5分)
以下是链接过程中对符号定义的判断，其中错误的是（    ）。

得分/总分

A.
全局变量声明“int x, y;”中，x和y都是符号的定义


B.
全局变量声明“int *xp=&x;”中，xp和x都是符号的定义

0.50/0.50

C.
函数内的局部变量声明“short x=200;”中，x不是符号的定义


D.
静态局部变量声明“static int x=*xp;”中，x是符号的定义

正确答案：B你选对了

2单选(0.5分)
若x为局部变量，xp、y和z是全局变量，则以下判断中错误的是（   ）。

得分/总分

A.
静态局部变量声明“static int x=*xp;”中，xp是符号的引用


B.
 赋值语句“y=x+*xp;”中，y和xp都是符号的引用


C.
赋值语句“int y=x+z;”中，y和z都是符号的引用

0.50/0.50

D.
赋值语句“y=x+z;”中，y和z都是符号的引用

正确答案：C你选对了

3单选(0.5分)
以下有关ELF目标文件的符号表的叙述中，错误的是（   ）。

得分/总分

A.
可重定位和可执行两种目标文件中都有符号表且数据结构一样


B.
符号表中包含了所有定义符号的描述信息，包括局部变量的相关信息

0.50/0.50

C.
符号表定义在.symtab节中，每个表项描述某个符号的相应信息


D.
通过符号表可获得符号的名称、所在节及在节中偏移地址和长度

正确答案：B你选对了

4单选(0.5分)
以下是有关链接过程中符号解析（符号绑定）的叙述，其中错误的是（    ）。

得分/总分

A.
全局符号（包括外部全局符号）需将模块内的引用与模块外的定义符号绑定


B.
同一个符号名可能在多个模块中有定义，每个定义处的符号都须分配空间

0.50/0.50

C.
符号解析的目的是将符号引用与某目标模块中定义的符号建立关联


D.
本地符号的解析比较简单，只要与本模块内定义的符号关联即可

正确答案：B你选对了

5单选(0.5分)
以下有关强符号和弱符号的符号解析的叙述中，错误的是（    ）。

得分/总分

A.
一个符号名可以有一个强符号和多个弱符号，强符号为其定义


B.
一个符号名只能有一个强符号，否则符号解析失败


C.
一个符号名可以有多个弱符号，任选一个为其定义


D.
一个符号名可以仅出现在引用处或仅出现在定义处

0.50/0.50
正确答案：D你选对了

6单选(0.5分)
以下是两个源程序文件：

/* m1.c */                                                        /* m2.c */

        int p1(viod);                                               static int main=1;

int main()                                                        int p1()

        {                                                                      {

                int p1= p1();                                                    main++;

                return p1;                                                        return main；

}                                                                      }

 对于上述两个源程序文件链接时的符号解析，错误的是（    ）。

得分/总分

A.
在m2中，定义了一个强符号p1和一个局部符号main


B.
因为出现了两个强符号main，所以会发生链接错误

0.50/0.50

C.
在m1中，对m2中定义的强符号p1的引用只有一处


D.
在m1中，定义了一个强符号main和一个弱符号p1

正确答案：B你选对了

7单选(0.5分)
以下是两个源程序文件：

/* m1.c */                                                        /* m2.c */

        int p1;                                                              int main=1;

int main()                                                        int p1()

        {                                                                      {

                int p1= p1();                                                    int p1=main++;

                return p1;                                                        return main；

}                                                                      }

 对于上述两个源程序文件链接时的符号解析，错误的是（   ）。

得分/总分

A.
在m1中，定义了一个强符号main和一个弱符号p1


B.
在模块m1的所有语句中，对符号p1的引用一共有三处

0.50/0.50

C.
因为出现了两个强符号main，所以会发生链接错误


D.
在m2中，定义了一个强符号p1和一个强符号main

正确答案：B你选对了

8单选(0.5分)
以下是两个源程序文件：

/* m1.c */                                                        /* m2.c */

         int x=100;                                                        float x;

         int p1(viod);                                                    static main=1;

int main()                                                        int p1()

        {                                                                      {

                x= p1();                                                           int p1=main + (int) x;

                return x;                                                          return p1；

}                                                                      }

 对于上述两个源程序文件链接时的符号解析，错误的是（   ）。

得分/总分

A.
m2中的变量p1与函数p1被分配在不同存储区


B.
m1中对x的两处引用都与m1中对x的定义绑定


C.
m2中对x的引用与m2中对x的定义绑定

0.50/0.50

D.
虽然x、main和p1都出现了多次定义，但不会发生链接错误

正确答案：C你选对了

9单选(0.5分)
 以下是两个源程序文件：

/* m1.c */                                                                /* m2.c */

        #include <stdio.h>

int x=100;                                                               double x;

        short y=1, z=2;                                                               

int main()                                                                void p1()

        {                                                                              {

                p1();                                                                     x= -1.0;

                printf(“x=%d, z=%d\n”, x, z);                          }

}                                                                              

 上述程序执行的结果是（    ）。提示：1074790400=2^30+2^20，16400=2^14+2^4。

得分/总分

A.
 x=0, z=-16400

0.50/0.50

B.
x=100, z=2


C.
x=-1, z=2


D.
x=-1074790400, z=0

正确答案：A你选对了
解析：  A、该题中变量x在m1.c中为强符号，在m2.c中为弱符号。在调用p1函数后，x处原来存放的100被替换，-1.0的double类型表示为1 0111 1111 111 00…0，十六进制表示为BFF0 0000 0000 0000。
因为x、y和z都是初始化变量，同在.data节中，链接后空间被分配在一起，x占4B，随后y和z各占2B。因为IA-32为小端方式，所以，x的机器数为全0，y的机器数也为全0，z的机器数为BFF0H。
执行printf函数后x=0, z=-(2^14+2^4)=-16400。

10单选(0.5分)
假设调用关系如下：func.o→libx.a和liby.a中的函数，libx.a→libz.a中的函数，libx.a和liby.a之间、liby.a和libz.a相互独立，则以下几个命令行中，静态链接发生错误的命令是（     ）。

得分/总分

A.
gcc -static –o myfunc func.o libx.a liby.a libz.a


B.
gcc -static –o myfunc func.o liby.a libx.a libz.a


C.
gcc -static –o myfunc func.o libx.a libz.a liby.a


D.
gcc -static –o myfunc func.o liby.a libz.a libx.a

0.50/0.50
正确答案：D你选对了
